print ("SCRIPT JALAN")
print ("https://discord.gg/Hsk4Q5KY2b")
--==================================================
-- ğŸ”ï¸ RAYFIELD MOUNTAIN HUB
-- Auto Detect | User Stats | Optimized
-- Enhanced Auto Save Settings
--==================================================

-- ===== SERVICES =====
local MarketplaceService = game:GetService("MarketplaceService")
local Players = game:GetService("Players")
local HttpService = game:GetService("HttpService")
local placeId = game.PlaceId
local player = Players.LocalPlayer
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local Stats = game:GetService("Stats")
local TeleportService = game:GetService("TeleportService")

-- ===== CONFIG SAVE SYSTEM =====
local SAVE_FOLDER = "NanaoGames"
local POS_FILE = "PerfStatsPos.json"
local SETTINGS_FILE = "UserSettings.json"

-- Function untuk load settings
local function loadSettings()
    if isfile(SAVE_FOLDER.."/"..SETTINGS_FILE) then
        local success, data = pcall(function()
            return HttpService:JSONDecode(readfile(SAVE_FOLDER.."/"..SETTINGS_FILE))
        end)
        if success and data then
            return data
        end
    end
    return {
        PerfStatsToggle = true,
        AutoExecuteToggle = true,
        DiscordCopied = false
    }
end

-- Function untuk save settings
local function saveSettings(settings)
    if not isfolder(SAVE_FOLDER) then
        makefolder(SAVE_FOLDER)
    end
    pcall(function()
        writefile(SAVE_FOLDER.."/"..SETTINGS_FILE, HttpService:JSONEncode(settings))
    end)
end

-- Load settings awal
local userSettings = loadSettings()

-- Function untuk load position FPS display
local function loadPos()
    if isfile(SAVE_FOLDER.."/"..POS_FILE) then
        local success, data = pcall(function()
            return HttpService:JSONDecode(readfile(SAVE_FOLDER.."/"..POS_FILE))
        end)
        if success and data then
            return UDim2.new(data.xs, data.xo, data.ys, data.yo)
        end
    end
end

local function savePos(pos)
    if not isfolder(SAVE_FOLDER) then
        makefolder(SAVE_FOLDER)
    end
    pcall(function()
        writefile(SAVE_FOLDER.."/"..POS_FILE, HttpService:JSONEncode({
            xs = pos.X.Scale,
            xo = pos.X.Offset,
            ys = pos.Y.Scale,
            yo = pos.Y.Offset
        }))
    end)
end

-- ===== GUI PERFORMANCE STATS =====
local PerfGui = Instance.new("ScreenGui")
PerfGui.Name = "PerfGui"
PerfGui.IgnoreGuiInset = true
PerfGui.Parent = game.CoreGui
PerfGui.Enabled = userSettings.PerfStatsToggle

local Frame = Instance.new("Frame")
Frame.Size = UDim2.new(0, 160, 0, 42)
Frame.Position = loadPos() or UDim2.new(1, -170, 0, 10)
Frame.BackgroundTransparency = 1
Frame.Active = true
Frame.Parent = PerfGui

local Label = Instance.new("TextLabel")
Label.Size = UDim2.new(1, 0, 1, 0)
Label.BackgroundTransparency = 1
Label.Font = Enum.Font.SourceSansBold
Label.TextSize = 18
Label.TextXAlignment = Enum.TextXAlignment.Left
Label.TextYAlignment = Enum.TextYAlignment.Center
Label.TextWrapped = true
Label.RichText = true
Label.TextStrokeTransparency = 0
Label.TextStrokeColor3 = Color3.new(0,0,0)
Label.Parent = Frame

-- DRAG + SAVE
local dragging, dragStart, startPos
Frame.InputBegan:Connect(function(i)
    if i.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = i.Position
        startPos = Frame.Position
    end
end)

Frame.InputEnded:Connect(function(i)
    if i.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = false
        savePos(Frame.Position)
    end
end)

UserInputService.InputChanged:Connect(function(i)
    if dragging and i.UserInputType == Enum.UserInputType.MouseMovement then
        local d = i.Position - dragStart
        Frame.Position = UDim2.new(
            startPos.X.Scale, startPos.X.Offset + d.X,
            startPos.Y.Scale, startPos.Y.Offset + d.Y
        )
    end
end)

-- FPS + PING LOOP
local frames, fps = 0, 0
local lastTick = tick()

RunService.RenderStepped:Connect(function()
    frames += 1
    if tick() - lastTick >= 1 then
        fps = frames
        frames = 0
        lastTick = tick()

        local ping = 0
        pcall(function()
            ping = math.floor(Stats.Network.ServerStatsItem["Data Ping"]:GetValue())
        end)

        local fpsColor =
            fps <= 25 and Color3.fromRGB(255,60,60) or
            fps <= 59 and Color3.fromRGB(255,200,0) or
            Color3.fromRGB(0,255,0)

        local pingColor =
            ping <= 80 and Color3.fromRGB(0,255,0) or
            ping <= 150 and Color3.fromRGB(255,200,0) or
            Color3.fromRGB(255,60,60)

        Label.Text =
            string.format(
                '<font color="rgb(%d,%d,%d)">FPS : %d</font>\n<font color="rgb(%d,%d,%d)">PING : %d ms</font>',
                fpsColor.R*255, fpsColor.G*255, fpsColor.B*255, fps,
                pingColor.R*255, pingColor.G*255, pingColor.B*255, ping
            )
    end
end)

-- CONTROL (dipakai Rayfield)
_G.TogglePerfStats = function(state)
    PerfGui.Enabled = state
    userSettings.PerfStatsToggle = state
    saveSettings(userSettings)
end

-- ===== EXTREME SPAM TEXT =====
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")

local player = Players.LocalPlayer
if player then
    -- Buat GUI
    local gui = Instance.new("ScreenGui")
    gui.Name = "ExtremeSpam"
    gui.Parent = player:WaitForChild("PlayerGui")
    
    -- Background merah
    local bg = Instance.new("Frame")
    bg.Size = UDim2.new(1, 0, 1, 0)
    bg.BackgroundColor3 = Color3.fromRGB(80, 0, 0)
    bg.Parent = gui
    
    -- Teks utama
    local mainText = Instance.new("TextLabel")
    mainText.Text = "NANAO GAMES LOADED"
    mainText.TextColor3 = Color3.fromRGB(0, 247, 255)
    mainText.Size = UDim2.new(0, 500, 0, 70)
    mainText.Position = UDim2.new(0.5, -250, 0.5, -35)
    mainText.BackgroundTransparency = 1
    mainText.Font = Enum.Font.GothamBlack
    mainText.TextSize = 250
    mainText.TextStrokeTransparency = 0.5
    mainText.TextStrokeColor3 = Color3.new(0, 0, 0)
    mainText.ZIndex = 10
    mainText.Parent = bg
    
    -- BUAT SPAM TEXT
    local spamLabels = {}
    local spamCount = 1000
    
    for i = 1, spamCount do
        local spamText = Instance.new("TextLabel")
        spamText.Size = UDim2.new(0, math.random(150, 400), 0, math.random(20, 40))
        spamText.Position = UDim2.new(
            math.random(-20, 120)/100,
            math.random(-50, 50),
            math.random(-20, 120)/100,
            math.random(-30, 30)
        )
        spamText.BackgroundTransparency = 1
        spamText.Text = "GA VIP KE TRACK BG"
        local greenValue = math.random(150, 255)
        spamText.TextColor3 = Color3.fromRGB(0, greenValue, 0)
        spamText.Font = Enum.Font.Code
        spamText.TextSize = math.random(14, 28)
        spamText.TextTransparency = math.random(0, 40)/100
        
        if math.random(1, 3) == 1 then
            spamText.Rotation = math.random(-15, 15)
        end
        
        spamText.ZIndex = math.random(1, 5)
        spamText.Parent = bg
        
        task.spawn(function()
            local variations = {"GA VIP KE TRACK BG", "G4 V1P K3 TR4CK BG", "GA_VIP_KE_TRACK_BG"}
            while spamText.Parent do
                spamText.Text = variations[math.random(1, #variations)]
                task.wait(math.random(10, 30)/10)
            end
        end)
        
        table.insert(spamLabels, spamText)
    end
    
    -- Animasi fade out
    local startTime = tick()
    local fadeDuration = 6
    
    local fadeConnection
    fadeConnection = RunService.Heartbeat:Connect(function()
        local elapsed = tick() - startTime
        
        if elapsed >= fadeDuration then
            fadeConnection:Disconnect()
            gui:Destroy()
            return
        end
        
        local transparency = elapsed / fadeDuration
        bg.BackgroundTransparency = transparency
        mainText.TextTransparency = transparency
        
        for _, label in ipairs(spamLabels) do
            label.TextTransparency = transparency
        end
    end)
end

task.wait(5)

-- ===== LOAD RAYFIELD =====
local Rayfield = loadstring(game:HttpGet("https://sirius.menu/rayfield"))()

-- Function untuk mendapatkan tanggal pembuatan akun
local function GetAccountCreationDate(userId)
    local success, result = pcall(function()
        local response = game:HttpGet("https://users.roblox.com/v1/users/" .. tostring(userId))
        local data = HttpService:JSONDecode(response)
        return data.created
    end)
    
    if success then
        local dateString = string.sub(result, 1, 10)
        local year, month, day = string.match(dateString, "(%d+)-(%d+)-(%d+)")
        return day .. "/" .. month .. "/" .. year
    end
    return "Unknown"
end

-- ===== WINDOW =====
local Window = Rayfield:CreateWindow({
    Name = "ğŸ”ï¸ LIST MOUNT VIP",
    LoadingTitle = "NANAO GAMES",
    LoadingSubtitle = "Premium Script",
    ConfigurationSaving = {
        Enabled = true,
        FolderName = "RayfieldMountainConfig",
        FileName = "Settings"
    }
})

local Tab = Window:CreateTab("â›°ï¸ Gunung", 4483362458)
local OtherTab = Window:CreateTab("ğŸ› ï¸ Script Lainnya", 4483362458)
local SettingsTab = Window:CreateTab("âš™ï¸ Settings", 4483362458)

-- ===== USER PROFILE =====
local player = game.Players.LocalPlayer
local accountCreationDate = GetAccountCreationDate(player.UserId)
local currentDateTime = os.date("%H:%M:%S | %d/%m/%Y")

-- Cek first run
local fileName = "FirstScriptRun_" .. player.UserId .. ".txt"
local firstRun
if isfile(fileName) then
    firstRun = readfile(fileName)
else
    firstRun = currentDateTime
    writefile(fileName, firstRun)
end

-- Format info
local info = 
"ğŸ‘‘ Display Name: " .. player.DisplayName .. "\n" ..
"ğŸ‘¤ Username: @" .. player.Name .. "\n" ..
"ğŸ†” User ID: " .. player.UserId .. "\n" ..
"ğŸ“… Account Created: " .. accountCreationDate .. "\n" ..
"â° First Script Run: " .. firstRun

-- Tampilkan di GUI
SettingsTab:CreateSection("ğŸ‘¤ User Profile")
SettingsTab:CreateParagraph({
    Title = "Player Info",
    Content = info
})

-- ===== SETTINGS SECTION =====
SettingsTab:CreateSection("ğŸ­ Settings")

-- Toggle untuk FPS & Ping Display
local fpsToggle = SettingsTab:CreateToggle({
    Name = "ğŸ“Š FPS & Ping Display",
    CurrentValue = userSettings.PerfStatsToggle,
    Flag = "PerfStatsToggle",
    Callback = function(Value)
        if _G.TogglePerfStats then
            _G.TogglePerfStats(Value)
        end
        userSettings.PerfStatsToggle = Value
        saveSettings(userSettings)
        Rayfield:Notify({
            Title = "âš™ï¸ Settings Updated",
            Content = "FPS Display: " .. (Value and "ENABLED" or "DISABLED"),
            Duration = 2
        })
    end
})

print ("PROSES")
print ("https://discord.gg/Hsk4Q5KY2b")

-- Toggle untuk Auto Execute
local autoExecToggle = SettingsTab:CreateToggle({
    Name = "ğŸ”§ Auto Execute Script",
    CurrentValue = userSettings.AutoExecuteToggle,
    Flag = "AutoExecuteToggle",
    Callback = function(Value)
        _G.AutoExecuteEnabled = Value
        userSettings.AutoExecuteToggle = Value
        saveSettings(userSettings)
        Rayfield:Notify({
            Title = "âš™ï¸ Settings Updated",
            Content = "Auto Execute: " .. (Value and "ENABLED" or "DISABLED"),
            Duration = 2
        })
    end
})

-- Reset Settings Button
SettingsTab:CreateButton({
    Name = "ğŸ”„ Reset All Settings",
    Callback = function()
        userSettings = {
            PerfStatsToggle = true,
            AutoExecuteToggle = true,
            DiscordCopied = false
        }
        saveSettings(userSettings)
        
        -- Update toggles UI
        fpsToggle:Set(true)
        autoExecToggle:Set(true)
        
        Rayfield:Notify({
            Title = "âœ… Settings Reset",
            Content = "All settings have been reset to default",
            Duration = 3
        })
    end
})

-- ===== DATA GUNUNG =====
local Mountains = {
    ["â›°ï¸ MT NICE TRY"] = { 
        placeId = 86414532193973, 
        script = "https://raw.githubusercontent.com/robloxonly981-gif/gkdrf/refs/heads/main/N"
    },
    ["â­ MT ALLSTARS V2"] = { 
        placeId = 118462881909065, 
        script = "https://raw.githubusercontent.com/robloxonly981-gif/DFHS/refs/heads/main/n"
    },
    ["ğŸŒ„ MT YAGESYA V.02"] = { 
        placeId = 82748630433642, 
        script = "https://raw.githubusercontent.com/robloxonly981-gif/yyilyu/refs/heads/main/n"
    },
    ["ğŸ’ƒ MT ERATO"] = { 
        placeId = 115911109949585, 
        script = "https://raw.githubusercontent.com/robloxonly981-gif/chj/refs/heads/main/n"
    },
    ["ğŸª¨ MT GEBOK"] = { 
        placeId = 79510160133540, 
        script = "https://raw.githubusercontent.com/robloxonly981-gif/hjk/refs/heads/main/n"
    },
    ["ğŸŒ³ MT MOROHMOY"] = { 
        placeId = 101195512432960, 
        script = "https://raw.githubusercontent.com/robloxonly981-gif/agfdhd/refs/heads/main/n"
    },
    ["ğŸš€ MT SPACE X"] = { 
        placeId = 137704808682889, 
        script = "https://raw.githubusercontent.com/robloxonly981-gif/jig/refs/heads/main/n"
    },
    ["ğŸŒˆ MT RAINBOW RUSH"] = { 
        placeId = 99041455205954, 
        script = "https://raw.githubusercontent.com/robloxonly981-gif/ghk/refs/heads/main/n"
    },
    ["ğŸŒŸ MT APEXIA V2"] = { 
        placeId = 140438064820571, 
        script = "https://raw.githubusercontent.com/NanaoGames/fgdj/refs/heads/main/n"
    },
    ["ğŸŒ² MT JASUN"] = { 
        placeId = 74503112625421, 
        script = "https://raw.githubusercontent.com/NanaoGames/sdg/refs/heads/main/n"
    },
    ["âš¡ MT VELORA"] = { 
        placeId = 135285569232987, 
        script = "https://raw.githubusercontent.com/NanaoGames/zgdh/refs/heads/main/n"
    },
    ["ğŸ˜‡ MT MALAIKAT"] = { 
        placeId = 105171425275249, 
        script = "https://raw.githubusercontent.com/NanaoGames/sfh/refs/heads/main/n"
    },
    ["ğŸ¦Š MT WEK"] = { 
        placeId = 127804672565817, 
        script = "https://raw.githubusercontent.com/NanaoGames/gj/refs/heads/main/N"
    },
    ["ğŸ§¸ MT YUBI"] = { 
        placeId = 135461240473398, 
        script = "https://raw.githubusercontent.com/NanaoGames/fgsa/refs/heads/main/n"
    },
    ["ğŸ—¡ï¸ MT SANGKALA"] = { 
        placeId = 103721108378972, 
        script = "https://raw.githubusercontent.com/NanaoGames/fgj/refs/heads/main/n"
    },
    ["ğŸ‰ MT YAHIHI"] = { 
        placeId = 94315512267840, 
        script = "https://raw.githubusercontent.com/NanaoGames/NS/refs/heads/main/n"
    },
    ["ğŸ›¡ï¸ MT SENOUK"] = { 
        placeId = 88212905513897, 
        script = "https://raw.githubusercontent.com/NanaoGames/NVM/refs/heads/main/n"
    },
    ["ğŸ¨ MT FREESTYLE"] = { 
        placeId = 92443799068611, 
        script = "https://raw.githubusercontent.com/NanaoGames/dfh/refs/heads/main/n"
    },
    ["ğŸŒ™ MT LUNA"] = { 
        placeId = 121884748950811, 
        script = "https://raw.githubusercontent.com/NanaoGames/DH/refs/heads/main/n"
    },
    ["ğŸŒŠ MT WARU MADURA"] = { 
        placeId = 105855907499823, 
        script = "https://raw.githubusercontent.com/NanaoGames/GL/refs/heads/main/n"
    },
    ["ğŸª MT YEROO"] = { 
        placeId = 130617502755072, 
        script = "https://raw.githubusercontent.com/NanaoGames/jf/refs/heads/main/n"
    },
    ["ğŸ’ MT GEMI"] = { 
        placeId = 117948254364533, 
        script = "https://raw.githubusercontent.com/NanaoGames/ghj/refs/heads/main/n"
    },
    ["ğŸ’ MT GEMAS"] = { 
        placeId = 98363466800903, 
        script = "https://raw.githubusercontent.com/NanaoGames/b/refs/heads/main/n"
    },
    ["ğŸ¹ MT BIKINI BOTTOM"] = { 
        placeId = 139801759395171, 
        script = "https://raw.githubusercontent.com/NanaoGames/V/refs/eads/main/n"
    },
    ["ğŸ¬ MT GHIBLI"] = { 
        placeId = 78106422901523, 
        script = "https://raw.githubusercontent.com/NanaoGames/yuju/refs/heads/main/N"
    },
    ["ğŸï¸ MT GASPOL"] = { 
        placeId = 90863151616496, 
        script = "https://raw.githubusercontent.com/NanaoGames/XCV/refs/heads/main/n"
    },
    ["ğŸŒ¸ MT CHAOS BLOOM"] = { 
        placeId = 115222215967412, 
        script = "https://raw.githubusercontent.com/NanaoGames/SDF/refs/heads/main/z"
    },
    ["â˜ï¸ MT NEBYA"] = { 
        placeId = 106607455396539, 
        script = "https://raw.githubusercontent.com/NanaoGames/xdd/refs/heads/main/dsf"
    },
    ["ğŸŒ² MT KANALA"] = { 
        placeId = 113588945154732, 
        script = "https://raw.githubusercontent.com/NanaoGames/daf/refs/heads/main/xxx"
    },
    ["ğŸ€ MT YAYAKIN"] = { 
        placeId = 80945057902511, 
        script = "https://raw.githubusercontent.com/NanaoGames/dsfgg/refs/heads/main/sfghg"
    },
    ["ğŸº MT BEJIRLAH"] = { 
        placeId = 81414127122663, 
        script = "https://raw.githubusercontent.com/NanaoGames/fdfhhh/refs/heads/main/dfgdfgh"
    },
    ["âš™ï¸ MT CAE - V 0.2"] = { 
        placeId = 102098778968011, 
        script = "https://raw.githubusercontent.com/NanaoGames/DSFDSGFH/refs/heads/main/sdgfgsd"
    },
    ["ğŸŒ… MT ANAK SENJA"] = { 
        placeId = 92677874290348, 
        script = "https://raw.githubusercontent.com/NanaoGames/asdgfg/refs/heads/main/fsshh"
    },
    ["ğŸ¾ MT BOTOL 3"] = { 
        placeId = 123706448062527, 
        script = "https://raw.githubusercontent.com/NanaoGames/SADWDFFGFF/refs/heads/main/ghjgsdss"
    },
    ["ğŸ”¥ MT HEARTH GANG V2"] = { 
        placeId = 89224809507033, 
        script = "https://raw.githubusercontent.com/NanaoGames/fgjgdst/refs/heads/main/adgahg"
    },
    ["ğŸ“ˆ MT LEVELING"] = { 
        placeId = 80648193166443, 
        script = "https://raw.githubusercontent.com/NanaoGames/sgadh/refs/heads/main/sfdgrj"
    },
    ["ğŸ˜‚ MT FUNNY"] = { 
        placeId = 117345375295598, 
        script = "https://raw.githubusercontent.com/robloxonly981-gif/adg/refs/heads/main/n"
    },
    ["ğŸŒŒ MT AETHERIA"] = { 
        placeId = 97937285533780, 
        script = "https://raw.githubusercontent.com/NanaoGames/hgdjdtyj/refs/heads/main/zdfh"
    },
    ["ğŸµ MT FREESTYLE KZL"] = { 
        placeId = 82019924787838, 
        script = "https://raw.githubusercontent.com/NanaoGames/HJKFJ/refs/heads/main/gfstj"
    },
    ["ğŸ MT FST SPEEDRUN"] = { 
        placeId = 82619747810196, 
        script = "https://raw.githubusercontent.com/NanaoGames/ytjhgfd/refs/heads/main/gfsfg"
    },
    ["ğŸ¡ MT KITA"] = { 
        placeId = 133858780974321, 
        script = "https://raw.githubusercontent.com/NanaoGames/asdfdgg/refs/heads/main/mountkita"
    },
    ["ğŸŒ€ MT MOLTI"] = { 
        placeId = 126576119458766, 
        script = "https://raw.githubusercontent.com/NanaoGames/edsfgh/refs/heads/main/fedfrg"
    },
    ["ğŸ› ï¸ MT SETECU"] = { 
        placeId = 78955895955272, 
        script = "https://raw.githubusercontent.com/robloxonly981-gif/rfgas/refs/heads/main/dws"
    },
    ["ğŸŒˆ MT YAHHASU"] = { 
        placeId = 80764768938398, 
        script = "https://raw.githubusercontent.com/NanaoGames/yahadsfes/refs/heads/main/asd"
    },
    ["ğŸ™ï¸ MT SADEWA CITY"] = { 
        placeId = 99851482652804, 
        script = "https://raw.githubusercontent.com/NanaoGames/dsa/refs/heads/main/sddd"
    },
    ["ğŸ’– MT YAHAYUK PINK"] = { 
        placeId = 133280992386451, 
        script = "https://raw.githubusercontent.com/NanaoGames/fhdf/refs/heads/main/n"
    },
    ["ğŸŸ£ MT YAHAYUK"] = { 
        placeId = 76964310785698,
        script = "https://raw.githubusercontent.com/NanaoGames/xhk/refs/heads/main/n"
    },
    ["ğŸŒ  MT VIRELLAN"] = { 
        placeId = 75981225039808,
        script = "https://raw.githubusercontent.com/NanaoGames/sdjkjyf/refs/heads/main/z"
    },
}

-- ===== TOTAL COUNT =====
local total = 0
for _ in pairs(Mountains) do total += 1 end

Tab:CreateParagraph({
    Title = "ğŸ“Š Total Mountains",
    Content = tostring(total) .. " Available"
})

-- ===== CREATE MOUNTAIN BUTTONS =====
local function CreateMountainButtons()
    local sortedMountains = {}
    for name, _ in pairs(Mountains) do
        table.insert(sortedMountains, name)
    end
    table.sort(sortedMountains)
    
    for _, name in ipairs(sortedMountains) do
        local data = Mountains[name]
        Tab:CreateButton({
            Name = name,
            Callback = function()
                if data.script and data.script ~= "" then
                    Rayfield:Notify({
                        Title = "â³ Loading...",
                        Content = "Executing " .. name,
                        Duration = 2
                    })
                    loadstring(game:HttpGet(data.script))()
                else
                    Rayfield:Notify({
                        Title = "âš ï¸ Script Not Available",
                        Content = name,
                        Duration = 3
                    })
                end
            end
        })
    end
end

-- Create buttons dengan delay untuk mengurangi lag
task.spawn(function()
    wait(1)
    CreateMountainButtons()
end)

-- ===== AUTO EXECUTE FUNCTION =====
local function AutoExecuteDetectedMap()
    if not userSettings.AutoExecuteToggle then
        return false, nil
    end
    
    for name, data in pairs(Mountains) do
        if data.placeId == placeId then
            Rayfield:Notify({
                Title = "ğŸ”ï¸ Map Detected!",
                Content = "Auto executing: " .. name,
                Duration = 4
            })
            
            task.wait(1)
            
            if data.script and data.script ~= "" then
                loadstring(game:HttpGet(data.script))()
            end
            
            return true, name
        end
    end
    return false, nil
end

-- ===== OTHER SCRIPTS =====
OtherTab:CreateSection("ğŸ“¦ Universal Scripts")

local universalScripts = {
    ["ğŸ­ Eazvy Hub | Animation & Emotes (FE)"] = "https://raw.githubusercontent.com/Eazvy/public-scripts/main/Universal_Animations_Emotes.lua",
    ["âš¡ INF YIELD (VISUAL)"] = "https://raw.githubusercontent.com/EdgeIY/infiniteyield/master/source",
    ["ğŸš¶ WALK BYPASS (FE)"] = "https://raw.githubusercontent.com/robloxonly981-gif/hjdf/refs/heads/main/n",
    ["ğŸ¯ HITBOX"] = "https://raw.githubusercontent.com/APAJE-PRJT/fjg/refs/heads/main/n",
    ["ğŸ’° FAKE DONATE"] = "https://pastefy.app/4iqtSMB6/raw",
    ["ğŸ“ SAVE TELEPORT (NEW)"] = "https://raw.githubusercontent.com/APAJE-PRJT/TELEPORT-TAMA/refs/heads/main/n",
}

for scriptName, scriptUrl in pairs(universalScripts) do
    OtherTab:CreateButton({
        Name = scriptName,
        Callback = function()
            Rayfield:Notify({
                Title = "â³ Loading...",
                Content = scriptName,
                Duration = 2
            })
            loadstring(game:HttpGet(scriptUrl))()
        end
    })
end

-- ===== DISCORD BUTTON =====
SettingsTab:CreateSection("ğŸŒ Community")

SettingsTab:CreateButton({
    Name = "ğŸ“¢ Join Discord Server",
    Callback = function()
        setclipboard("https://discord.gg/Hsk4Q5KY2b")
        userSettings.DiscordCopied = true
        saveSettings(userSettings)
        Rayfield:Notify({
            Title = "ğŸ“‹ Discord Copied",
            Content = "Link copied to clipboard!",
            Duration = 3
        })
    end
})

-- ===== LOAD SETTINGS SAAT START =====
local function LoadSavedSettings()
    -- Apply FPS Display setting
    if _G.TogglePerfStats then
        _G.TogglePerfStats(userSettings.PerfStatsToggle)
    end
    
    -- Apply Auto Execute setting
    _G.AutoExecuteEnabled = userSettings.AutoExecuteToggle
    
    -- Notify user
    Rayfield:Notify({
        Title = "âš™ï¸ Settings Loaded",
        Content = "Loaded your previous settings",
        Duration = 3
    })
end

-- ===== WELCOME NOTIFICATION =====
local function ShowWelcomeNotification()
    local loadTime = os.date("%H:%M:%S")
    local loadDate = os.date("%d/%m/%Y")
    
    Rayfield:Notify({
        Title = "ğŸ‘‹ Welcome, " .. player.DisplayName .. "!",
        Content = "Script loaded at " .. loadTime .. "\nDate: " .. loadDate .. "\nSettings loaded from last session",
        Duration = 5
    })
end

-- ===== INITIALIZE =====
task.spawn(function()
    wait(2)
    
    -- Load saved settings
    LoadSavedSettings()
    
    -- Tampilkan welcome
    ShowWelcomeNotification()
    
    -- Cek auto execute
    local detected, mapName = AutoExecuteDetectedMap()
    
    if detected then
        Rayfield:Notify({
            Title = "âœ… Execute Complete",
            Content = "Map: " .. mapName .. "\nExecuted successfully!",
            Duration = 4
        })
    else
        Rayfield:Notify({
            Title = "â„¹ï¸ Ready to Use",
            Content = "Auto Execute Bisa Di Off In Di Settings : " .. (userSettings.AutoExecuteToggle and "ENABLED" or "DISABLED"),
            Duration = 3
        })
    end
end)

-- Export settings function
_G.GetUserSettings = function()
    return userSettings
end

_G.UpdateUserSettings = function(newSettings)
    for key, value in pairs(newSettings) do
        userSettings[key] = value
    end
    saveSettings(userSettings)
    return true
end

-- Auto-save ketika game ditutup
game:BindToClose(function()
    saveSettings(userSettings)
end)

-- ===== CREDITS =====
SettingsTab:CreateSection("ğŸ“ Credits")
SettingsTab:CreateParagraph({
    Title = "Developed by Nanao Games",
    Content = "xzxzxzxzxzxzxzxz : " .. os.date("%d/%m/%Y")
})

print ("SCRIPT BERHASIL BERJALAN")
print ("Jika Berat Silahkan Hubungi Admin")
print ("https://discord.gg/Hsk4Q5KY2b")
print ("https://discord.gg/Hsk4Q5KY2b")
print ("https://discord.gg/Hsk4Q5KY2b")
print ("https://discord.gg/Hsk4Q5KY2b")
print ("https://discord.gg/Hsk4Q5KY2b")
